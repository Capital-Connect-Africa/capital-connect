<ng-container *ngIf="stats$ | async"></ng-container>

<div class="main__content">
    <app-sidenav [links]="links"/>
    <div class="main">
        <div class="navbar"><app-navbar onDashboard="true" /></div>
        <main *ngIf="canViewPage">
          <div class="flex justify-start" *ngIf="investor.specialCriteria.length"><button class="sc__btn">Take Special Criteria</button></div>
          <div class="card__item__details" details>
            <div class="card__item__detail_info" *ngIf="relationship ==relationship_types.CONNECTED">
              <div>
                <label>Investor Name:</label>
                <p>{{investor.organizationName}}</p>
              </div>
              <div>
                <label>Email Address:</label>
                <p>{{investor.emailAddress}}</p>
              </div>
              <div>
                <label>Country where headquatered:</label>
                <p>{{investor.headOfficeLocation}}</p>
              </div>
            </div>
            
            <div class="card__item__detail_info" *ngIf="relationship ==relationship_types.CONNECTED">
              <div>
                <label>Investor Type:</label>
                <p>{{investor.investorType}}</p>
              </div>
              <div >
                <label>Minimum Funding:</label>
                <p>${{investor.minimumFunding | numberabbreviation}}</p>
              </div>
              <div>
                <label>Maximum Funding:</label>
                <p><ng-container *ngIf="investor.noMaximumFunding; else withMaxFunding">
                  Unlimited
                </ng-container>
                <ng-template #withMaxFunding>
                  ${{ investor.maximumFunding | numberabbreviation }}
                </ng-template></p>
              </div>
            </div>
          
            <div class="card__item__detail">
              <div *ngIf="relationship ==relationship_types.MATCHED || relationship ==relationship_types.CONNECTED">
                <label>Sectors of investiment</label>
                <ul class="chips">
                  <li *ngFor="let sector of investor.sectors" class="chip">{{sector.name}}</li>
                </ul>
              </div>
              <div *ngIf="relationship ==relationship_types.MATCHED || relationship ==relationship_types.CONNECTED">
                <label>Sub-sectors</label>
                <ul class="chips">
                  <li *ngFor="let subSector of investor.subSectors" class="chip">{{subSector.name}}</li>
                </ul>
              </div>
              <div *ngIf="relationship ==relationship_types.MATCHED || relationship ==relationship_types.CONNECTED">
                <label>ESG Focus Areas:</label>
                <ul class="chips">
                  <li *ngFor="let esg of investor.esgFocusAreas" class="chip">{{esg}}</li>
                </ul>
              </div>
              <div *ngIf="relationship ==relationship_types.MATCHED || relationship ==relationship_types.CONNECTED">
                <label>Business Stages the investor focuses on:</label>
                <ul class="chips">
                  <li *ngFor="let stage of investor.businessGrowthStages" class="chip">{{stage}}</li>
                </ul>
              </div>
            </div>

            <div class="card__item__detail">
              <div *ngIf="relationship ==relationship_types.CONNECTED">
                <label>Registration Structures:</label>
                <ul class="chips">
                  <li *ngFor="let registration of investor.registrationStructures" class="chip">{{registration}}</li>
                </ul>
              </div>
              <div *ngIf="relationship ==relationship_types.MATCHED || relationship ==relationship_types.CONNECTED">
                <label>Investiment Structures:</label>
                <ul class="chips">
                  <li *ngFor="let investiment of investor.investmentStructures" class="chip">{{investiment}}</li>
                </ul>
              </div>
              <div *ngIf="relationship ==relationship_types.MATCHED || relationship ==relationship_types.CONNECTED">
                <label>Countries of investiment focus:</label>
                <ul class="chips">
                  <li *ngFor="let country of investor.countriesOfInvestmentFocus" class="chip">{{country}}</li>
                </ul>
              </div>
            </div>
          </div>

          <div class="button-group" footer>
            <button class="btn__cta text-blue-600" (click)="goBack()">
              <i class="pi pi-angle-left"></i>
              <span class="btn-text">Back</span>
            </button>
            <button class="btn__cta text-teal-600" *ngIf="relationship ==relationship_types.MATCHED">
              <i class="pi pi-check"></i>
              <span class="btn-text">Connect</span>
            </button>
            <button class="btn__cta text-rose-600" *ngIf="relationship ==relationship_types.CONNECTED">
              <i class="pi pi-times"></i>
              <span class="btn-text">Decline</span>
            </button>
          </div>
      </main>
      <div *ngIf="!canViewPage" class="no-data">No records found</div>
    </div>
</div>
  
