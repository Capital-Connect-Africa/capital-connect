<ng-container *ngIf="access$ | async"></ng-container>
<ng-container *ngIf="investorProfile$ | async"></ng-container>
<div class="main">
    <div class="navbar">
        <app-navbar title="Access control" [showBanner]="false" onDashboard="true" />
    </div>
    <div class="main__content">
        <div>
            <h2 class="h2">Contact Persons</h2>
            <p-table #dt [value]="contactPersons" > 
                <ng-template pTemplate="header">
                  <tr>
                    <th *ngFor="let col of cols">
                      <span class="header-container">
                        <span class="header-text">
                          {{col.header}}
                        </span>
                      </span>
                    </th>
                  </tr>
            </ng-template>
              <ng-template pTemplate="body" let-contactPerson>
                <tr>
                  <td>{{contactPerson.firstName}} {{contactPerson.lastName}}</td>
                  <td>{{contactPerson.emailAddress }}</td>
                  <td>{{contactPerson.phoneNumber}}</td>
                  <td>{{contactPerson.primaryContact? 'Yes': 'No' }}</td>
                  <td>
                    <div class="flex gap-1 items-center cta__btns">
                        <button class="block text-center bg-teal-600 text-white hover:bg-teal-800 transition-all text-sm access_cta" (click)="grantAccess(contactPerson.id)">Grant Access</button>
                    </div>
                  </td>
                </tr>
              </ng-template>
              <ng-template pTemplate="emptymessage">
                <tr>
                  <td colspan="5">No contact persons added yet.</td>
                </tr>
              </ng-template>
            </p-table>
        </div>
    <div class="col__right">
        <app-alert onDashboard="true" className="rounded-[.5rem]"/>
        <app-advertisement-space [title]="'Advertise Here'" [body]="'This space is available for your advertising needs to reach more businesses. Contact us to learn more!'" />
    </div>
</div>
</div>