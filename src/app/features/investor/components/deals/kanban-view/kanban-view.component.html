<ul class="grid !gap-[2px] font-family-serif" [ngClass]="{ 
    '!grid-cols-1': (store.activePipeline()?.stages?.length || 1) === 1, 
    '!grid-cols-2': store.activePipeline()?.stages?.length === 2, 
    '!grid-cols-3': store.activePipeline()?.stages?.length === 3, 
    '!grid-cols-4': store.activePipeline()?.stages?.length === 4,
    '!grid-cols-5': store.activePipeline()?.stages?.length === 5,
    '!grid-cols-6': store.activePipeline()?.stages?.length === 6,
    '!grid-cols-7': store.activePipeline()?.stages?.length === 7,
    }">
    <li *ngFor="let stage of store.activePipeline()?.stages" class="flex flex-col !gap-2">
        <section class="bg-zinc-300 !border !border-solid !border-gray-300 !p-3 flex flex-col !pb-4">
            <h3 class="!text-sm font-extrabold uppercase truncate">{{stage.progress}}% - {{stage.name}}</h3>
            <p class="description truncate">${{getTotalDealsValue(stage.deals)}} - ({{stage.deals.length}} deals)</p>
        </section>
        <ul class="flex flex-col !gap-[2px] !h-full" (drop)="handleDrop($event, stage)" (dragover)="handleDragOver($event)">
            <li *ngFor="let deal of stage.deals" draggable="true" (dragstart) ="handleDragStart($event, deal, stage)" class="cursor-default bg-white !border !border-solid !border-gray-200 !p-3 flex flex-col !gap-3">
                <p class="description !font-bold !text-xs !text-gray-700 !uppercase truncate">{{deal.name}}</p>
                <p class="description !text-gray-600 truncate">{{deal.customer.name}}</p>
                <div class="flex items-center !gap-2 !text-gray-500">
                    <p class="description !text-[10px] truncate">${{deal.value | numberabbreviation}}</p>
                    <p class="description !text-[10px] truncate">on {{deal.createdAt | format_date}}</p>
                </div>
            </li>
        </ul>
    </li>
</ul>
