<ng-container *ngIf="specialCriteriaId$ | async"></ng-container>
<ng-container *ngIf="getSpecialCriteria$ | async"></ng-container>
<ng-container *ngIf="update$ | async"></ng-container>
<ng-container *ngIf="questions$ | async"></ng-container>
<ng-container *ngIf="addQuestions$ | async"></ng-container>
<ng-container *ngIf="removeQuestions$ | async"></ng-container>
<ng-container *ngIf="addCustomQuestions$ | async"></ng-container>












<div class="main">
  <div class="navbar">
    <app-navbar [showBanner]="showBanner" onDashboard="true" />
  </div>

  <div class="main__content">
    <section class="col__right">
      <div class="sc__details">
        <h6><strong>{{specialCriteria.title}}</strong></h6>
        <p>{{specialCriteria.description}}</p>

      <div class="">
        <button *ngIf="!update" (click)="onUpdate()" class="btn btn-primary">Update Special Criteria</button>
      </div>
      </div>



      <div *ngIf="update">
        <form [formGroup]="specialCriteriaForm" (ngSubmit)="onSubmit()">
          <div class="form_content__container">
            <div class="input__wrapper">
              <label class="input__label">Title<sup>*</sup></label>
              <input class="input__field" formControlName="title" type="text" placeholder="Enter Criteria Title" />
            </div>


            <div class="input__wrapper">
              <label class="input__label">Description<sup>*</sup></label>
              <input class="input__field" formControlName="description" type="text"
                placeholder="Enter Criteria Description" />
            </div>


            <div class="cta__group">
              <button class="btn btn-primar" [disabled]="!specialCriteriaForm.valid" [ngClass]="{'disabled-btn': !specialCriteriaForm.valid}">Update Special Criteria</button>
            </div>
          </div>
        </form>

      </div>

      <div>
        <form [formGroup]="questionsForm" (ngSubmit)="onQuestionsSubmit()">
          <div class="form_content__container">
            <div class="input__wrapper">
              <label class="input__label">Add Questions To Special Criteria</label>
              <p-multiSelect class="input__field" styleClass="w-full gap-4" optionValue="id"
                formControlName="questionIds" [options]="questions" optionLabel="text"
                placeholder="Select questions"></p-multiSelect>
            </div>


            <div class="cta__group">
              <a class="ques__a" (click)="addCustomQues()">Did not find the question? <strong>add custom question here</strong></a>
              <button class="btn btn-primar" [disabled]="!questionsForm.valid"
                [ngClass]="{'disabled-btn': !questionsForm}">Add Selected Questions</button>
            </div>
          </div>
        </form>
      </div>

      <div>
        <form [formGroup]="questionsRemoveForm" (ngSubmit)="onQuestionsRemove()">
          <div class="form_content__container">
            <div class="input__wrapper">
              <label class="input__label">Remove Questions From Special Criteria</label>
              <p-multiSelect class="input__field" styleClass="w-full gap-4" optionValue="id"
                formControlName="questionIds" [options]="questions" optionLabel="text"
                placeholder="Select questions"></p-multiSelect>
            </div>


            <div class="cta__group">
              <button class="btn btn-primar" [disabled]="!questionsRemoveForm.valid"
                [ngClass]="{'disabled-btn': !questionsRemoveForm}">Remove Questions</button>
            </div>
          </div>
        </form>
      </div>


    </section>

  </div>

</div>

<app-modal [(visible)]="add_custom_ques" title="Custom Question" 
  helperText="Add A custom question">

  <form [formGroup]="customQuestionsForm" (ngSubmit)="onCustomQuestionsSubmit()">
    <div class="form_content__container">
      <div class="input__wrapper">
        <label class="input__label">Question<sup>*</sup></label>
        <input class="input__field" formControlName="text" type="text"
          placeholder="Enter Question" />
      </div>



      <div class="input__wrapper">
        <label class="input__label">Question Type <sup>*</sup></label>
        <p-dropdown class="input__field" styleClass="w-full gap-4" 
          formControlName="type" [options]="question_types"
          placeholder="Question Types"></p-dropdown>
      </div>

      <div class="input__wrapper">
        <label class="input__label">Question Description<sup>*</sup></label>
        <input class="input__field" formControlName="tooltip" type="text"
          placeholder="Enter Question" />
      </div>


      <div class="cta__group">
        <button class="btn btn-primar" [disabled]="!customQuestionsForm.valid"
          [ngClass]="{'disabled-btn': !customQuestionsForm}">Submit</button>
      </div>
    </div>
  </form>


</app-modal>
